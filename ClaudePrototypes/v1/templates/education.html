{% extends "base.html" %}

{% block title %}Financial Education - Python for Finance{% endblock %}

{% block content %}
<div class="container my-5">
    <!-- Header -->
    <div class="row">
        <div class="col-12">
            <div class="text-center mb-5">
                <h1 class="display-4 fw-bold">
                    <i class="bi bi-book me-3"></i>
                    Financial Education Center
                </h1>
                <p class="lead text-muted">
                    Learn the theoretical foundations behind modern financial analysis
                </p>
            </div>
        </div>
    </div>

    <!-- Portfolio Theory Section -->
    <section id="portfolio" class="mb-5">
        <div class="card">
            <div class="card-header">
                <h2 class="mb-0">
                    <i class="bi bi-pie-chart-fill me-2"></i>
                    Modern Portfolio Theory
                </h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-8">
                        <h4>Overview</h4>
                        <p>
                            Modern Portfolio Theory (MPT), developed by Harry Markowitz in 1952, revolutionized 
                            investment management by demonstrating how to construct portfolios that optimize 
                            expected return for a given level of risk.
                        </p>
                        
                        <h5>Key Concepts:</h5>
                        <ul>
                            <li><strong>Diversification:</strong> "Don't put all your eggs in one basket" - spreading investments across different assets reduces overall portfolio risk.</li>
                            <li><strong>Efficient Frontier:</strong> The set of optimal portfolios offering the highest expected return for each level of risk.</li>
                            <li><strong>Risk-Return Trade-off:</strong> Higher returns generally require accepting higher risk.</li>
                            <li><strong>Correlation:</strong> How assets move relative to each other affects portfolio risk.</li>
                        </ul>

                        <h5>Mathematical Foundation:</h5>
                        <p>Portfolio return is the weighted average of individual asset returns:</p>
                        <div class="bg-light p-3 rounded mb-3">
                            <code>E(R<sub>p</sub>) = Σ w<sub>i</sub> × E(R<sub>i</sub>)</code>
                        </div>
                        
                        <p>Portfolio variance considers both individual asset variances and correlations:</p>
                        <div class="bg-light p-3 rounded mb-3">
                            <code>σ<sub>p</sub>² = Σ w<sub>i</sub>² σ<sub>i</sub>² + ΣΣ w<sub>i</sub> w<sub>j</sub> σ<sub>ij</sub></code>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="bg-primary text-white p-4 rounded">
                            <h5>Practical Applications</h5>
                            <ul class="mb-0">
                                <li>Asset allocation decisions</li>
                                <li>Risk budgeting</li>
                                <li>Portfolio optimization</li>
                                <li>Performance evaluation</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CAPM Section -->
    <section id="capm" class="mb-5">
        <div class="card">
            <div class="card-header">
                <h2 class="mb-0">
                    <i class="bi bi-graph-up me-2"></i>
                    Capital Asset Pricing Model (CAPM)
                </h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-8">
                        <h4>Overview</h4>
                        <p>
                            CAPM describes the relationship between systematic risk and expected return for assets. 
                            It builds on Modern Portfolio Theory and introduces the concept of beta (β) to measure 
                            an asset's sensitivity to market movements.
                        </p>
                        
                        <h5>Key Assumptions:</h5>
                        <ul>
                            <li>Investors are risk-averse and prefer higher returns</li>
                            <li>Markets are efficient</li>
                            <li>All investors have the same information</li>
                            <li>There exists a risk-free asset</li>
                        </ul>

                        <h5>The CAPM Formula:</h5>
                        <div class="bg-light p-3 rounded mb-3">
                            <code>E(R<sub>i</sub>) = R<sub>f</sub> + β<sub>i</sub> × (E(R<sub>m</sub>) - R<sub>f</sub>)</code>
                        </div>
                        
                        <h5>Understanding Beta (β):</h5>
                        <ul>
                            <li><strong>β = 1:</strong> Asset moves with the market</li>
                            <li><strong>β > 1:</strong> Asset is more volatile than market (aggressive)</li>
                            <li><strong>β < 1:</strong> Asset is less volatile than market (defensive)</li>
                            <li><strong>β < 0:</strong> Asset moves opposite to market (rare)</li>
                        </ul>

                        <h5>Beta Calculation:</h5>
                        <div class="bg-light p-3 rounded mb-3">
                            <code>β = Cov(R<sub>i</sub>, R<sub>m</sub>) / Var(R<sub>m</sub>)</code>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="bg-success text-white p-4 rounded mb-3">
                            <h5>Alpha (α)</h5>
                            <p class="mb-0">
                                Measures a portfolio manager's ability to generate returns above what CAPM predicts. 
                                Positive alpha indicates outperformance.
                            </p>
                        </div>
                        <div class="bg-warning text-white p-4 rounded">
                            <h5>Sharpe Ratio</h5>
                            <p class="mb-0">
                                Risk-adjusted return measure: (Return - Risk-free rate) / Standard deviation
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Risk Analysis Section -->
    <section id="risk" class="mb-5">
        <div class="card">
            <div class="card-header">
                <h2 class="mb-0">
                    <i class="bi bi-shield-exclamation me-2"></i>
                    Investment Risk Analysis
                </h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-8">
                        <h4>Types of Risk</h4>
                        
                        <h5>1. Systematic Risk (Market Risk)</h5>
                        <p>Risk that affects the entire market and cannot be diversified away:</p>
                        <ul>
                            <li>Economic recessions</li>
                            <li>Interest rate changes</li>
                            <li>Inflation</li>
                            <li>Political events</li>
                        </ul>

                        <h5>2. Unsystematic Risk (Specific Risk)</h5>
                        <p>Company or industry-specific risk that can be reduced through diversification:</p>
                        <ul>
                            <li>Management decisions</li>
                            <li>Product recalls</li>
                            <li>Industry regulations</li>
                            <li>Company earnings</li>
                        </ul>

                        <h5>Risk Measures:</h5>
                        <ul>
                            <li><strong>Variance (σ²):</strong> Measures dispersion of returns</li>
                            <li><strong>Standard Deviation (σ):</strong> Square root of variance</li>
                            <li><strong>Value at Risk (VaR):</strong> Maximum expected loss at given confidence level</li>
                            <li><strong>Conditional VaR:</strong> Expected loss beyond VaR threshold</li>
                        </ul>
                    </div>
                    <div class="col-lg-4">
                        <div class="bg-danger text-white p-4 rounded mb-3">
                            <h5>Correlation</h5>
                            <p class="mb-0">
                                Measures how assets move together. Range: -1 to +1. 
                                Lower correlations provide better diversification.
                            </p>
                        </div>
                        <div class="bg-info text-white p-4 rounded">
                            <h5>Diversification Ratio</h5>
                            <p class="mb-0">
                                Portfolio volatility relative to weighted average of individual volatilities. 
                                Higher ratios indicate better diversification.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Monte Carlo Section -->
    <section id="monte-carlo" class="mb-5">
        <div class="card">
            <div class="card-header">
                <h2 class="mb-0">
                    <i class="bi bi-dice-5 me-2"></i>
                    Monte Carlo Simulations
                </h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-8">
                        <h4>Overview</h4>
                        <p>
                            Monte Carlo simulation uses random sampling to model complex systems and estimate 
                            probability distributions of outcomes. In finance, it's used for option pricing, 
                            risk assessment, and portfolio optimization.
                        </p>
                        
                        <h5>Geometric Brownian Motion</h5>
                        <p>Stock prices are modeled using the stochastic differential equation:</p>
                        <div class="bg-light p-3 rounded mb-3">
                            <code>dS = μS dt + σS dW</code>
                        </div>
                        <p>Where:</p>
                        <ul>
                            <li><strong>μ:</strong> Expected return (drift)</li>
                            <li><strong>σ:</strong> Volatility</li>
                            <li><strong>dW:</strong> Wiener process (random component)</li>
                        </ul>

                        <h5>Black-Scholes Option Pricing</h5>
                        <p>Monte Carlo can price options by simulating many possible price paths:</p>
                        <div class="bg-light p-3 rounded mb-3">
                            <code>C = e<sup>-rT</sup> × E[max(S<sub>T</sub> - K, 0)]</code>
                        </div>

                        <h5>Applications:</h5>
                        <ul>
                            <li>Option and derivative pricing</li>
                            <li>Portfolio risk assessment</li>
                            <li>Stress testing</li>
                            <li>Business planning scenarios</li>
                        </ul>
                    </div>
                    <div class="col-lg-4">
                        <div class="bg-secondary text-white p-4 rounded mb-3">
                            <h5>Advantages</h5>
                            <ul class="mb-0">
                                <li>Handles complex models</li>
                                <li>Provides full distribution</li>
                                <li>Flexible assumptions</li>
                                <li>Easy to understand</li>
                            </ul>
                        </div>
                        <div class="bg-warning text-white p-4 rounded">
                            <h5>Limitations</h5>
                            <ul class="mb-0">
                                <li>Computationally intensive</li>
                                <li>Results are estimates</li>
                                <li>Model assumptions critical</li>
                                <li>Requires many simulations</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Regression Section -->
    <section id="regression" class="mb-5">
        <div class="card">
            <div class="card-header">
                <h2 class="mb-0">
                    <i class="bi bi-activity me-2"></i>
                    Regression Analysis
                </h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-8">
                        <h4>Overview</h4>
                        <p>
                            Regression analysis quantifies relationships between variables, allowing prediction 
                            and understanding of how changes in independent variables affect dependent variables.
                        </p>
                        
                        <h5>Simple Linear Regression</h5>
                        <p>Relationship between one independent and one dependent variable:</p>
                        <div class="bg-light p-3 rounded mb-3">
                            <code>Y = α + βX + ε</code>
                        </div>

                        <h5>Multiple Regression</h5>
                        <p>Multiple independent variables predicting one dependent variable:</p>
                        <div class="bg-light p-3 rounded mb-3">
                            <code>Y = α + β₁X₁ + β₂X₂ + ... + βₙXₙ + ε</code>
                        </div>

                        <h5>Key Statistics:</h5>
                        <ul>
                            <li><strong>R-squared (R²):</strong> Proportion of variance explained by model</li>
                            <li><strong>P-value:</strong> Statistical significance of coefficients</li>
                            <li><strong>F-statistic:</strong> Overall model significance</li>
                            <li><strong>Standard Error:</strong> Precision of coefficient estimates</li>
                        </ul>

                        <h5>Assumptions:</h5>
                        <ul>
                            <li>Linear relationship</li>
                            <li>Independence of observations</li>
                            <li>Homoscedasticity (constant variance)</li>
                            <li>Normal distribution of residuals</li>
                        </ul>
                    </div>
                    <div class="col-lg-4">
                        <div class="bg-primary text-white p-4 rounded mb-3">
                            <h5>Financial Applications</h5>
                            <ul class="mb-0">
                                <li>Asset pricing models</li>
                                <li>Risk factor analysis</li>
                                <li>Economic forecasting</li>
                                <li>Performance attribution</li>
                            </ul>
                        </div>
                        <div class="bg-success text-white p-4 rounded">
                            <h5>Model Diagnostics</h5>
                            <ul class="mb-0">
                                <li>Residual plots</li>
                                <li>Normality tests</li>
                                <li>Multicollinearity checks</li>
                                <li>Outlier detection</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Additional Resources -->
    <section class="mb-5">
        <div class="card">
            <div class="card-header">
                <h2 class="mb-0">
                    <i class="bi bi-bookmark-star me-2"></i>
                    Additional Resources
                </h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <h5>Recommended Books</h5>
                        <ul>
                            <li>"Investments" by Bodie, Kane & Marcus</li>
                            <li>"Portfolio Selection" by Harry Markowitz</li>
                            <li>"Options, Futures, and Other Derivatives" by John Hull</li>
                            <li>"Python for Finance" by Yves Hilpisch</li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <h5>Key Formulas Summary</h5>
                        <ul>
                            <li><strong>Sharpe Ratio:</strong> (R - Rf) / σ</li>
                            <li><strong>Beta:</strong> Cov(Ri, Rm) / Var(Rm)</li>
                            <li><strong>CAPM:</strong> Rf + β(Rm - Rf)</li>
                            <li><strong>Portfolio Variance:</strong> w'Σw</li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <h5>Practical Tips</h5>
                        <ul>
                            <li>Always validate model assumptions</li>
                            <li>Use multiple time periods for analysis</li>
                            <li>Consider transaction costs</li>
                            <li>Regularly rebalance portfolios</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Smooth scrolling for internal links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
</script>
{% endblock %}
